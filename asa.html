<!doctype html>
<html dir="rtl" lang="fa" data-theme="light">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title data-i18n-en="Chemical Farm" data-i18n-fa="کمیکال فارم ">Chemical Farm | Acetaldehyde</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=Space+Grotesk:wght@400;500;600&amp;family=Vazirmatn:wght@300;400;500;600;700;800&amp;display=swap" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<style>
        :root {
            --primary: #0d9488;
            --primary-light: #14b8a6;
            --secondary: #2563eb;
            --danger: #fb7185;
            --warning: #fbbf24;
            --success: #22c55e;
            --dark: #0f172a;
            --light: #f8fafc;
            --gray: rgba(15,23,42,0.10);
            --card-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.07), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --card-hover: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            --glow-primary: 0 0 22px rgba(13, 148, 136, 0.22);
            --glow-secondary: 0 0 22px rgba(37, 99, 235, 0.22);
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Vazirmatn','Inter', sans-serif;
            background: linear-gradient(135deg, #f0fdfa 0%, #eff6ff 100%);
            color: var(--dark);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        header {
            background: linear-gradient(120deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 35px 0;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: var(--card-shadow), var(--glow-primary);
            position: relative;
            overflow: hidden;
            z-index: 1;
            transform: translateY(0);
            animation: headerFloat 6s ease-in-out infinite;
        }
        @keyframes headerFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        header::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(30deg);
            z-index: -1;
            animation: rotate 20s linear infinite;
        }
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 30px;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .logo i {
            font-size: 2rem;
            background: rgba(255,255,255,0.15);
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255,255,255,0.4); }
            70% { box-shadow: 0 0 0 15px rgba(255,255,255,0); }
            100% { box-shadow: 0 0 0 0 rgba(255,255,255,0); }
        }
        .logo h1 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.8rem;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .search-container {
            position: relative;
            max-width: 500px;
            width: 100%;
        }
        .search-container i {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255,255,255,0.7);
            font-size: 1.1rem;
        }
        #search-input {
            width: 100%;
            padding: 14px 20px 14px 45px;
            border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 1rem;
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }
        #search-input::placeholder {
            color: rgba(255,255,255,0.7);
        }
        #search-input:focus {
            outline: none;
            border-color: rgba(255,255,255,0.4);
            box-shadow: 0 0 0 3px rgba(255,255,255,0.1), var(--glow-primary);
        }
        
        /* Header actions (Home + Language) */
        .header-actions{
            display:flex;
            align-items:center;
            gap:10px;
        }
        .hdr-btn{
            display:inline-flex;
            align-items:center;
            gap:10px;
            padding: 12px 16px;
            border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.22);
            background: rgba(255,255,255,0.10);
            color: white;
            font-size: 0.98rem;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }
        .hdr-btn i{ opacity: .9; }
        .hdr-btn:hover{
            transform: translateY(-2px);
            box-shadow: var(--card-hover), var(--glow-secondary);
            border-color: rgba(255,255,255,0.35);
            background: rgba(255,255,255,0.14);
        }
        .hdr-btn:active{ transform: translateY(0); }
        .hdr-btn.lang{
            border: 1px solid rgba(255,255,255,0.28);
        }
        #langLabel{
            font-family: 'Space Grotesk','Vazirmatn','Inter',sans-serif;
            font-weight: 700;
            letter-spacing: .6px;
        }

        /* Language toggling */
        html[lang="fa"] body{ direction: rtl; }
        html[lang="fa"] .container{ direction: rtl; }
        html[lang="fa"] .product-name,
        html[lang="fa"] .section-title,
        html[lang="fa"] .market-title,
        html[lang="fa"] .companies-title,
        html[lang="fa"] .applications-title,
        html[lang="fa"] .feedstock-title,
        html[lang="fa"] .molecular-title{
            font-family:'Vazirmatn','Space Grotesk','Inter',sans-serif;
        }
.product-header {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 30px;
            margin-bottom: 30px;
            align-items: center;
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .product-info {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .product-type {
            display: inline-block;
            background: rgba(37, 99, 235, 0.15);
            color: var(--primary);
            padding: 6px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
            align-self: flex-start;
            transition: var(--transition);
            box-shadow: var(--glow-primary);
        }
        .product-type:hover {
            transform: scale(1.03);
            box-shadow: var(--glow-primary), 0 5px 15px rgba(37, 99, 235, 0.15);
        }
        .product-name {
            display: flex;
            align-items: center;
            gap: 12px;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            line-height: 1.1;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .product-subtitle {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1.2rem;
            color: #475569;
            margin-top: 5px;
        }
        .product-stats {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: var(--card-shadow), var(--glow-primary);
            transition: var(--transition);
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
            animation: floatUp 0.6s ease-out;
        }
        @keyframes floatUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .stat-card {
            display: flex;
            flex-direction: column;
            gap: 8px;
            padding: 15px;
            border-radius: 16px;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.5) 100%);
            z-index: -1;
            opacity: 0;
            transition: var(--transition);
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--card-hover), var(--glow-primary);
        }
        .stat-card:hover::before {
            opacity: 1;
        }
        .stat-value {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--primary);
            position: relative;
            display: inline-block;
        }
        .stat-value::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: var(--transition);
        }
        .stat-card:hover .stat-value::after {
            width: 100%;
        }
        .stat-label {
            font-size: 0.95rem;
            color: #64748b;
            font-weight: 500;
        }
        .content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        .main-content {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
        }
        .section-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
            z-index: 1;
            transform: translateZ(0);
            will-change: transform, box-shadow;
        }
        .section-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            z-index: 2;
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .section-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--card-hover), var(--glow-primary);
        }
        .section-card:hover::before {
            transform: scaleX(1);
        }
        .section-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--gray);
        }
        .section-icon {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            transition: var(--transition);
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        .section-icon:hover {
            transform: scale(1.1) rotate(5deg);
        }
        .properties-header .section-icon {
            background: rgba(37, 99, 235, 0.1);
            color: var(--primary);
        }
        .hazard-header .section-icon {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }
        .health-header .section-icon {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }
        .industry-header .section-icon {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }
        .license-header .section-icon {
            background: rgba(139, 92, 246, 0.1);
            color: var(--secondary);
        }
        .section-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            position: relative;
            display: inline-block;
        }
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: var(--transition);
        }
        .section-card:hover .section-title::after {
            width: 70%;
        }
        .property-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        .property-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
            position: relative;
            padding-left: 10px;
            transition: var(--transition);
        }
        .property-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--gray);
            opacity: 0.5;
        }
        .property-item:hover {
            padding-left: 15px;
        }
        .property-item:hover::before {
            background: var(--primary);
            opacity: 1;
            transform: translateY(-50%) scale(1.2);
        }
        .property-label {
            font-size: 0.9rem;
            color: #64748b;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .property-label i {
            opacity: 0.5;
            font-size: 0.8rem;
        }
        .property-value {
            font-weight: 600;
            color: var(--dark);
            font-size: 1.05rem;
            position: relative;
            display: inline-block;
        }
        .property-value::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--primary);
            transition: var(--transition);
        }
        .property-item:hover .property-value::after {
            width: 100%;
        }
        .hazard-section, .health-section {
            padding: 20px;
            border-radius: 16px;
            position: relative;
            overflow: hidden;
        }
        .hazard-section::before, .health-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            opacity: 0.7;
        }
        .hazard-section {
            background: rgba(254, 226, 226, 0.4);
            border: 1px solid #fecaca;
        }
        .hazard-section::before {
            background: linear-gradient(to bottom, #ef4444, #dc2626);
        }
        .hazard-title {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #b91c1c;
            margin-bottom: 12px;
            font-weight: 600;
            font-size: 1.1rem;
        }
        .hazard-value {
            color: #991b1b;
            line-height: 1.6;
        }
        .health-section {
            background: rgba(254, 249, 196, 0.4);
            border: 1px solid #fde68a;
        }
        .health-section::before {
            background: linear-gradient(to bottom, #f59e0b, #d97706);
        }
        .health-title {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #a16207;
            margin-bottom: 12px;
            font-weight: 600;
            font-size: 1.1rem;
        }
        .health-value {
            color: #854d0e;
            line-height: 1.6;
        }
        .industry-section {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .industry-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .industry-tag {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
            padding: 6px 14px;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            z-index: 1;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .industry-tag::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent);
            transform: translateX(-100%);
            z-index: -1;
        }
        .industry-tag:hover {
            transform: translateY(-2px) scale(1.05);
            background: var(--success);
            color: white;
            box-shadow: 0 5px 15px rgba(16, 185, 129, 0.3);
        }
        .industry-tag:hover::after {
            animation: shine 1s;
        }
        @keyframes shine {
            to { transform: translateX(100%); }
        }
        .feedstock-section {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
        }
        .feedstock-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--secondary), var(--primary));
        }
        .feedstock-section:hover {
            transform: translateY(-3px);
            box-shadow: var(--card-hover), var(--glow-secondary);
        }
        .feedstock-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--gray);
        }
        .feedstock-header .section-icon {
            background: rgba(139, 92, 246, 0.1);
            color: var(--secondary);
        }
        .feedstock-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
        }
        .raw-materials {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 10px;
        }
        .material-tag {
            background: rgba(139, 92, 246, 0.1);
            color: var(--secondary);
            padding: 6px 14px;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 500;
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            z-index: 1;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .material-tag::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            pointer-events: none;
        }
        .material-tag:hover {
            transform: scale(1.05);
            background: var(--secondary);
            color: white;
            box-shadow: 0 5px 15px rgba(139, 92, 246, 0.3);
        }
        .material-tag:hover::after {
            transform: translateX(0);
        }
        .market-insights {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
        }
        .market-insights::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }
        .market-insights:hover {
            transform: translateY(-3px);
            box-shadow: var(--card-hover), var(--glow-primary);
        }
        .market-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--gray);
        }
        .market-header .section-icon {
            background: rgba(37, 99, 235, 0.1);
            color: var(--primary);
        }
        .market-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
        }
        .market-description {
            color: #475569;
            line-height: 1.7;
            margin-bottom: 20px;
        }
        .demand-chart-container {
            height: 280px;
            border-radius: 16px;
            overflow: hidden;
            margin: 15px 0;
            position: relative;
            background: #f8fafc;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
        }
        .demand-chart-container:hover {
            box-shadow: var(--card-hover), var(--glow-primary);
            transform: scale(1.01);
        }
        .region-demand {
            margin-top: 25px;
        }
        .region-item {
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            transition: var(--transition);
            background: white;
            box-shadow: var(--card-shadow);
            border-left: 4px solid;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        .region-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 3px;
            height: 100%;
            opacity: 0;
            transition: var(--transition);
        }
        .region-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--card-hover);
            z-index: 2;
        }
        .region-item:hover::before {
            opacity: 1;
        }
        .region-item:nth-child(1) {
            border-left-color: #2563eb;
        }
        .region-item:nth-child(1)::before {
            background: linear-gradient(to bottom, #2563eb, #3b82f6);
        }
        .region-item:nth-child(2) {
            border-left-color: #8b5cf6;
        }
        .region-item:nth-child(2)::before {
            background: linear-gradient(to bottom, #8b5cf6, #a78bfa);
        }
        .region-item:nth-child(3) {
            border-left-color: #10b981;
        }
        .region-item:nth-child(3)::before {
            background: linear-gradient(to bottom, #10b981, #34d399);
        }
        .region-item:nth-child(4) {
            border-left-color: #f59e0b;
        }
        .region-item:nth-child(4)::before {
            background: linear-gradient(to bottom, #f59e0b, #fbbf24);
        }
        .region-title {
            display: flex;
            justify-content: space-between;
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--dark);
        }
        .region-percentage {
            font-weight: 700;
            font-size: 1.1rem;
            position: relative;
            display: inline-block;
        }
        .region-percentage::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 1px;
            background: currentColor;
            transition: var(--transition);
        }
        .region-item:hover .region-percentage::after {
            width: 100%;
        }
        .region-description {
            color: #64748b;
            font-size: 0.85rem;
            line-height: 1.4;
        }
        .region-progress {
            height: 6px;
            background: #e2e8f0;
            border-radius: 3px;
            margin-top: 5px;
            overflow: hidden;
            position: relative;
        }
        .region-progress::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
            transform: translateX(-100%);
            animation: shimmer 1.5s infinite;
        }
        @keyframes shimmer {
            100% { transform: translateX(100%); }
        }
        .region-progress-bar {
            height: 100%;
            border-radius: 3px;
            transition: width 1.5s ease;
            position: relative;
        }
        .key-companies {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
        }
        .key-commodity {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
        }
        .key-commodity:hover, .key-companies:hover {
            transform: translateY(-3px);
            box-shadow: var(--card-hover), var(--glow-primary);
        }
        .companies-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--gray);
        }
        .companies-header .section-icon {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }
        .companies-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
        }
        .company-list {
            list-style: none;
        }
        .company-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px 0;
            border-bottom: 1px solid var(--gray);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        .company-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 3px;
            height: 100%;
            background: var(--success);
            transform: scaleX(0);
            transform-origin: left;
            transition: var(--transition);
            z-index: 1;
        }
        .company-item:hover::before {
            transform: scaleX(1);
        }
        .company-item:last-child {
            border-bottom: none;
        }
        .company-item:hover {
            transform: translateX(5px);
            background: rgba(16, 185, 129, 0.05);
        }
        .company-flag {
            width: 28px;
            height: 20px;
            border-radius: 3px;
            background: #f1f5f9;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.7rem;
            color: #64748b;
            transition: var(--transition);
        }
        .company-item:hover .company-flag {
            transform: scale(1.1);
            box-shadow: 0 0 0 2px var(--success);
        }
        .company-name {
            font-weight: 600;
            color: var(--dark);
            position: relative;
            display: inline-block;
        }
        .company-name::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--success);
            transition: var(--transition);
        }
        .company-item:hover .company-name::after {
            width: 100%;
        }
        .company-country {
            color: #64748b;
            font-size: 0.9rem;
        }
        .molecular-visualization {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            text-align: center;
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
        }
        .molecular-visualization::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--danger), #f87171);
        }
        .molecular-visualization:hover {
            transform: translateY(-3px);
            box-shadow: var(--card-hover), var(--glow-primary);
        }
        .molecular-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--gray);
        }
        .molecular-header .section-icon {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }
        .molecular-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
        }
        .molecular-diagram {
            width: 100%;
            height: 300px;
            border-radius: 16px;
            margin: 15px 0;
            position: relative;
            overflow: hidden;
            box-shadow: var(--card-shadow);
        }
        .molecular-diagram:hover {
            box-shadow: var(--card-hover);
        }
        #molecular-canvas {
            width: 100%;
            height: 100%;
        }
        .molecular-info {
            display: flex;
            justify-content: space-around;
            background: #f8fafc;
            border-radius: 12px;
            padding: 15px;
            font-size: 0.9rem;
        }
        .molecular-label {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .color-swatch {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        .molecular-red {
            background-color: #ef4444;
        }
        .molecular-blue {
            background-color: #1e40af;
        }
        .molecular-gray {
            background-color: #64748b;
        }
        .safety-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: #fee2e2;
            color: #b91c1c;
            padding: 8px 16px;
            border-radius: 12px;
            font-weight: 500;
            margin-top: 15px;
            align-self: flex-start;
            animation: pulseDanger 2s infinite;
        }
        @keyframes pulseDanger {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.2); }
            70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }
        footer {
            text-align: center;
            margin-top: 40px;
            color: #64748b;
            font-size: 0.9rem;
            padding: 20px;
        }
        .footer-note {
            margin-top: 10px;
            font-size: 0.85rem;
            color: #94a3b8;
            font-style: italic;
        }
        /* Production Process Specific Styles */
        .process-stages {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 15px;
        }
        .stage {
            background: #f8fafc;
            border-radius: 12px;
            padding: 12px;
            border-left: 3px solid var(--primary);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        .stage::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: translateX(-100%);
        }
        .stage:hover {
            background: #edf2ff;
            transform: translateX(5px);
        }
        .stage:hover::before {
            animation: shine 1.5s;
        }
        @keyframes shine {
            to { transform: translateX(100%); }
        }
        .stage-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 8px;
            font-size: 0.85rem;
            transition: var(--transition);
        }
        .stage:hover .stage-number {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.3);
        }
        .stage-title {
            font-weight: 600;
            color: var(--dark);
            display: flex;
            align-items: center;
            margin-bottom: 5px;
            font-size: 1.05rem;
            position: relative;
            display: inline-block;
        }
        .stage-title::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--primary);
            transition: var(--transition);
        }
        .stage:hover .stage-title::after {
            width: 100%;
        }
        .stage-description {
            color: #475569;
            line-height: 1.5;
            font-size: 0.9rem;
        }
        .process-diagram {
            background: #f8fafc;
            border-radius: 16px;
            padding: 15px;
            margin-top: 15px;
            height: 350px;
            position: relative;
            overflow: hidden;
        }
        .diagram-title {
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1.05rem;
        }
        .plant-capacity {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 12px;
        }
        .capacity-card {
            background: #f8fafc;
            border-radius: 12px;
            padding: 12px;
            border-left: 3px solid var(--success);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        .capacity-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: translateX(-100%);
        }
        .capacity-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            background: #edf7f4;
        }
        .capacity-card:hover::before {
            animation: shine 1.5s;
        }
        .capacity-title {
            font-weight: 600;
            color: var(--success);
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 8px;
            font-size: 0.95rem;
        }
        .capacity-value {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark);
        }
        .capacity-location {
            color: #64748b;
            font-size: 0.85rem;
            margin-top: 4px;
        }
        .capacity-note {
            font-size: 0.8rem;
            color: #64748b;
            margin-top: 12px;
            line-height: 1.4;
        }
        .process-selector {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
            border-bottom: 1px solid var(--gray);
            padding-bottom: 8px;
        }
        .process-btn {
            padding: 5px 12px;
            border-radius: 18px;
            background: #e2e8f0;
            border: none;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
            position: relative;
            overflow: hidden;
        }
        .process-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: translateX(-100%);
        }
        .process-btn:hover::after {
            animation: shine 1s;
        }
        .process-btn.active {
            background: var(--primary);
            color: white;
        }
        .process-info {
            background: #f0f4ff;
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 15px;
            font-size: 0.92rem;
            line-height: 1.5;
            border-left: 3px solid var(--primary);
        }
        .process-highlight {
            font-weight: 600;
            color: var(--primary);
        }
        /* Applications Section */
        .applications-section {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
        }
        .applications-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--success), #22c55e);
        }
        .applications-section:hover {
            transform: translateY(-3px);
            box-shadow: var(--card-hover), var(--glow-primary);
        }
        .applications-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--gray);
        }
        .applications-header .section-icon {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }
        .applications-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
        }
        .application-chart {
            height: 250px;
            margin-top: 15px;
            position: relative;
        }
        .application-chart::after {
            content: '3D Interactive';
            position: absolute;
            top: 10px;
            right: 15px;
            background: rgba(0,0,0,0.1);
            color: white;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: 500;
            backdrop-filter: blur(2px);
        }
        .chart-legend {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
            justify-content: center;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.85rem;
            padding: 3px 8px;
            border-radius: 6px;
            transition: var(--transition);
        }
        .legend-item:hover {
            background: #f1f5f9;
            transform: translateY(-1px);
        }
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 3px;
        }
        .design-credit {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: var(--card-shadow);
            margin-top: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .design-credit::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }
        .credit-header {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        .credit-icon {
            background: var(--primary);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: var(--transition);
            box-shadow: 0 5px 15px rgba(37, 99, 235, 0.3);
        }
        .credit-icon:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.4);
        }
        .credit-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--primary);
        }
        .credit-details {
            color: #475569;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
        }
        .contact-info {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }
        .contact-item {
            display: flex;
            align-items: center;
            gap: 5px;
            background: #f8fafc;
            padding: 8px 15px;
            border-radius: 10px;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        .contact-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: translateX(-100%);
        }
        .contact-item:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(37, 99, 235, 0.3);
        }
        .contact-item:hover::before {
            animation: shine 1s;
        }
        .contact-item:hover i {
            color: white;
        }
        /* License Providers Section */
        .license-providers {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .provider-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: #f8fafc;
            border-radius: 12px;
            transition: var(--transition);
            border-left: 3px solid var(--secondary);
            position: relative;
            overflow: hidden;
        }
        .provider-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: translateX(-100%);
        }
        .provider-item:hover {
            transform: translateX(5px);
            background: #f1f5f9;
        }
        .provider-item:hover::before {
            animation: shine 1.5s;
        }
        .provider-rank {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            background: var(--secondary);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            font-size: 0.9rem;
            transition: var(--transition);
            box-shadow: 0 2px 4px rgba(139, 92, 246, 0.2);
        }
        .provider-item:hover .provider-rank {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 5px 15px rgba(139, 92, 246, 0.3);
        }
        .provider-info {
            flex: 1;
        }
        .provider-name {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 4px;
            position: relative;
            display: inline-block;
        }
        .provider-name::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--secondary);
            transition: var(--transition);
        }
        .provider-item:hover .provider-name::after {
            width: 100%;
        }
        .provider-details {
            color: #64748b;
            font-size: 0.9rem;
        }
        .provider-licenses {
            background: rgba(139, 92, 246, 0.1);
            color: var(--secondary);
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
            align-self: flex-start;
            transition: var(--transition);
        }
        .provider-item:hover .provider-licenses {
            background: var(--secondary);
            color: white;
        }
        /* 3D Chart Container */
        .chart3d-container {
            position: relative;
            width: 100%;
            height: 100%;
        }
        .chart3d-tooltip {
            position: absolute;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.85rem;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 100;
            transform: translate(-50%, -100%);
        }
        .chart3d-tooltip::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-top: 5px solid rgba(0,0,0,0.8);
        }
        @media (max-width: 1100px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
            .main-content {
                grid-template-columns: 1fr;
            }
            .product-stats {
                grid-template-columns: 1fr 1fr;
            }
        }
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            .product-header {
                flex-direction: column;
            }
            .product-name {
                font-size: 2rem;
                text-align: center;
            }
            .product-stats {
                grid-template-columns: 1fr;
            }
            .property-grid {
                grid-template-columns: 1fr;
            }
            .plant-capacity {
                grid-template-columns: 1fr;
            }
        }
    

/* =========================
   Language fonts & direction
   ========================= */
html[lang="en"] body{
    font-family: 'Inter','Space Grotesk', sans-serif;
}
html[lang="fa"] body{
    font-family: 'Vazirmatn','Inter', sans-serif;
}
/* Better RTL/LTR support using logical properties where possible */
.property-item{ padding-inline-start: 10px; padding-left: 0; }
.property-item:hover{ padding-inline-start: 15px; }
.property-item::before{ inset-inline-start: 0; left: auto; }
.region-item{ border-inline-start: 4px solid; border-left: 0; }
.region-item::before{ inset-inline-start: 0; left:auto; }
.stage{ border-inline-start: 3px solid var(--primary); border-left: 0; }
.capacity-card{ border-inline-start: 3px solid var(--success); border-left: 0; }
.provider-item{ border-inline-start: 3px solid var(--secondary); border-left: 0; }
.hazard-section::before, .health-section::before{ inset-inline-start: 0; left:auto; }

/* =========================
   Theme system (Light/Dark)
   ========================= */
html{
    /* surfaces */
    --surface: #ffffff;
    --surface-2: #f8fafc;
    --surface-3: rgba(255,255,255,0.70);
    --text-1: #0f172a;
    --text-2: #475569;
    --text-3: #64748b;
    --border: rgba(15,23,42,0.10);
    --molecule-bg: #f8fafc;
    color-scheme: light;
}
body{
    background: linear-gradient(135deg, #f0fdfa 0%, #eff6ff 100%);
    color: var(--text-1);
}
html[data-theme="dark"]{
    /* High-contrast dark palette (readable on true-black displays) */
    --surface: rgba(12,18,34,0.88);
    --surface-2: rgba(17,26,46,0.78);
    --surface-3: rgba(12,18,34,0.62);

    /* Text */
    --text-1: #eef2ff;   /* main text */
    --text-2: #d6def7;   /* body/secondary text */
    --text-3: #a7b4d8;   /* muted text */

    /* Critical: many parts of the page use var(--dark) for text */
    --dark: #eef2ff;
    --light: #0b1020;

    /* Borders / shadows */
    --border: rgba(167,180,216,0.18);
    --gray: rgba(167,180,216,0.18);
    --card-shadow: 0 10px 18px -4px rgba(0, 0, 0, 0.55), 0 4px 10px -6px rgba(0, 0, 0, 0.45);
    --card-hover: 0 22px 30px -10px rgba(0, 0, 0, 0.65), 0 10px 16px -10px rgba(0, 0, 0, 0.50);

    /* 3D canvas background */
    --molecule-bg: #0b1020;

    color-scheme: dark;
}
html[data-theme="dark"] body{
    background: radial-gradient(1200px 800px at 10% 10%, rgba(13,148,136,0.20), transparent 55%),
                radial-gradient(1000px 700px at 90% 15%, rgba(37,99,235,0.18), transparent 55%),
                radial-gradient(1000px 700px at 50% 110%, rgba(139,92,246,0.14), transparent 55%),
                linear-gradient(180deg, #020617 0%, #0b1220 100%);
    color: var(--text-1);
}
/* Card surfaces */
html[data-theme="dark"] .product-stats,
html[data-theme="dark"] .section-card,
html[data-theme="dark"] .feedstock-section,
html[data-theme="dark"] .market-insights,
html[data-theme="dark"] .key-companies,
html[data-theme="dark"] .key-commodity,
html[data-theme="dark"] .molecular-visualization,
html[data-theme="dark"] .applications-section,
html[data-theme="dark"] .design-credit{
    background: var(--surface);
    border: 1px solid var(--border);
    box-shadow: var(--card-shadow);
}
html[data-theme="dark"] .demand-chart-container,
html[data-theme="dark"] .process-diagram,
html[data-theme="dark"] .molecular-info,
html[data-theme="dark"] .stage,
html[data-theme="dark"] .capacity-card,
html[data-theme="dark"] .provider-item,
html[data-theme="dark"] .contact-item,
html[data-theme="dark"] .region-item{
    background: var(--surface-2);
    border-color: var(--border);
}
html[data-theme="dark"] .section-header,
html[data-theme="dark"] .feedstock-header,
html[data-theme="dark"] .market-header,
html[data-theme="dark"] .companies-header,
html[data-theme="dark"] .molecular-header,
html[data-theme="dark"] .applications-header{
    border-bottom: 1px solid var(--border);
}
/* Text colors */
html[data-theme="dark"] .product-subtitle,
html[data-theme="dark"] .market-description,
html[data-theme="dark"] .region-description,
html[data-theme="dark"] .company-country,
html[data-theme="dark"] .capacity-location,
html[data-theme="dark"] .capacity-note,
html[data-theme="dark"] .property-label,
html[data-theme="dark"] .stat-label,
html[data-theme="dark"] footer,
html[data-theme="dark"] .footer-note{
    color: var(--text-2) !important;
}
html[data-theme="dark"] .property-value,
html[data-theme="dark"] .region-title,
html[data-theme="dark"] .company-name,
html[data-theme="dark"] .stage-title,
html[data-theme="dark"] .capacity-value,
html[data-theme="dark"] .provider-name{
    color: var(--text-1) !important;
}
html[data-theme="dark"] .region-progress{ background: rgba(148,163,184,0.18); }
html[data-theme="dark"] .region-item:hover{ background: rgba(148,163,184,0.08); }
html[data-theme="dark"] .company-item:hover{ background: rgba(16,185,129,0.08); }

/* Hazard blocks in dark */
html[data-theme="dark"] .hazard-section{
    background: rgba(127,29,29,0.25);
    border-color: rgba(239,68,68,0.35);
}
html[data-theme="dark"] .health-section{
    background: rgba(120,53,15,0.25);
    border-color: rgba(245,158,11,0.35);
}
html[data-theme="dark"] .safety-badge{
    background: rgba(239,68,68,0.18);
    color: #fecaca;
}

/* Toggle button polish */
.hdr-btn.theme i{ transition: transform .25s ease; }
.hdr-btn.theme:hover i{ transform: rotate(-10deg) scale(1.05); }

/* Responsive fix: product-header is grid (not flex) */
@media (max-width: 768px){
    .product-header{ grid-template-columns: 1fr; }
    .safety-badge{ justify-self: start; }
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
    *{ animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; scroll-behavior: auto !important; }
}


/* =========================
   Dark-mode readability overrides (inline styles + hard-coded colors)
   ========================= */
html[data-theme="dark"]{
    /* Make sure plain text defaults are readable */
    color: var(--text-1);
}

html[data-theme="dark"] body{
    color: var(--text-1);
}

/* Override common hard-coded text colors used in inline styles */
html[data-theme="dark"] [style*="color: #475569"],
html[data-theme="dark"] [style*="color:#475569"]{ color: var(--text-2) !important; }

html[data-theme="dark"] [style*="color: #64748b"],
html[data-theme="dark"] [style*="color:#64748b"]{ color: var(--text-3) !important; }

html[data-theme="dark"] [style*="color: #0f172a"],
html[data-theme="dark"] [style*="color:#0f172a"],
html[data-theme="dark"] [style*="color: var(--dark)"],
html[data-theme="dark"] [style*="color:var(--dark)"]{ color: var(--text-1) !important; }

/* Fix common light backgrounds used inline inside CAPEX cards */
html[data-theme="dark"] [style*="background: #f8fafc"],
html[data-theme="dark"] [style*="background:#f8fafc"]{
    background: var(--surface-2) !important;
    border-color: var(--border) !important;
}
html[data-theme="dark"] [style*="background: #fff7ed"],
html[data-theme="dark"] [style*="background:#fff7ed"],
html[data-theme="dark"] [style*="background: #fff7ed;"],
html[data-theme="dark"] [style*="background:#fff7ed;"]{
    background: rgba(249,115,22,0.12) !important;
    border-color: rgba(249,115,22,0.28) !important;
}

/* Ensure link/text inside contact pills stays readable */
html[data-theme="dark"] a{ color: var(--text-1); }
html[data-theme="dark"] a:hover{ color: var(--text-1); }

/* Keep small helper texts readable */
html[data-theme="dark"] .credit-details,
html[data-theme="dark"] .capacity-note,
html[data-theme="dark"] .stage-description{ color: var(--text-2) !important; }



/* === Fix: process-info box readability in Dark theme === */
html[data-theme="dark"] .process-info{
    background: rgba(37, 99, 235, 0.12) !important; /* soft indigo */
    border: 1px solid rgba(167,180,216,0.22) !important;
    color: var(--text-2) !important;
}
html[data-theme="dark"] .process-info .process-highlight{
    color: #93c5fd !important; /* readable accent */
}
html[data-theme="dark"] .process-info i{
    color: #93c5fd !important;
}

</style>

</head>

<body>
<div class="container">
<header>
<div class="header-content">
<div class="logo">
<i class="fas fa-flask"></i>
<h1><span data-i18n-en="Chemical Farm" data-i18n-fa="Chemical Farm">Chemical Farm</span></h1>
</div>
<div class="header-actions">
<a class="hdr-btn home" href="index.html" title="Home">
<i class="fas fa-home"></i>
<span data-i18n-en="Home" data-i18n-fa="خانه">Home</span>
</a>
<button class="hdr-btn theme" id="themeToggle" title="Theme" type="button" aria-label="Toggle theme">
<i class="fas fa-moon"></i>
<span data-i18n-en="Theme" data-i18n-fa="تم">Theme</span>
</button>
<button class="hdr-btn lang" id="langToggle" title="Language" type="button">
<i class="fas fa-language"></i>
<span id="langLabel">EN</span>
</button>
</div>
</div>
</header>

<div class="product-header">
<div class="product-info">
<div class="product-type"><span data-i18n-en="Polymer / Resin" data-i18n-fa="پلیمر / رزین">Polymer / Resin</span></div>
<h1 class="product-name">
<i class="fas fa-flask"></i> <span data-i18n-en="ASA (Acrylonitrile-Styrene-Acrylate)" data-i18n-fa="ASA (اکریلونیتریل-استایرن-اکریلات)">ASA (Acrylonitrile-Styrene-Acrylate)</span>
</h1>
<div class="product-subtitle">
<i class="fas fa-microscope"></i> (C₁₂H₁₂O₂·C₈H₈·C₃H₃N)ₙ | CAS 25956-22-3
</div>
</div>
<div class="safety-badge">
<i class="fas fa-exclamation-triangle"></i>
<span data-i18n-en="Low-hazard solid | Dust irritant (handling)" data-i18n-fa="جامد کم‌خطر | تحریک‌کننده گردوغبار (در هندلینگ)">Low-hazard solid | Dust irritant (handling)</span>
</div>
</div>

<div class="product-stats">
<div class="stat-card">
<div class="stat-value"><span data-i18n-en="0.40M" data-i18n-fa="۰.۴۰ میلیون">0.40M</span></div>
<div class="stat-label"><span data-i18n-en="Estimated Global ASA Market Volume (Tons/Y, 2024)" data-i18n-fa="برآورد حجم بازار جهانی ASA (تن/سال، ۲۰۲۴)">Estimated Global ASA Market Volume (Tons/Y, 2024)</span></div>
</div>
<div class="stat-card">
<div class="stat-value"><span data-i18n-en="$0.97B" data-i18n-fa="۰.۹۷ میلیارد دلار">$0.97B</span></div>
<div class="stat-label"><span data-i18n-en="Estimated Market Value (2025)" data-i18n-fa="برآورد ارزش بازار (۲۰۲۵)">Estimated Market Value (2025)</span></div>
</div>
<div class="stat-card">
<div class="stat-value"><span data-i18n-en="UV-resistant engineering pellets" data-i18n-fa="پلت/گرانول مهندسی مقاوم به UV">UV-resistant engineering pellets</span></div>
<div class="stat-label"><span data-i18n-en="Common Form" data-i18n-fa="شکل رایج">Common Form</span></div>
</div>
</div>

<div class="content-grid">
<div class="main-content">

<div class="section-card">
<div class="section-header properties-header">
<div class="section-icon"><i class="fas fa-vial"></i></div>
<h2 class="section-title"><span data-i18n-en="Key Properties (Typical)" data-i18n-fa="خواص کلیدی (تیپیک)">Key Properties (Typical)</span></h2>
</div>

<div class="property-grid">
<div class="property-item">
<div class="property-label"><i class="fas fa-ruler-combined"></i> <span data-i18n-en="Density" data-i18n-fa="چگالی">Density</span></div>
<div class="property-value"><span data-i18n-en="~1.06–1.07 g/cm³" data-i18n-fa="حدود ۱.۰۶ تا ۱.۰۷ گرم/سانتی‌متر³">~1.06–1.07 g/cm³</span></div>
</div>

<div class="property-item">
<div class="property-label"><i class="fas fa-temperature-high"></i> <span data-i18n-en="Vicat Softening" data-i18n-fa="نرم‌شدن ویکات">Vicat Softening</span></div>
<div class="property-value"><span data-i18n-en="~92–104°C (grade/test dependent)" data-i18n-fa="حدود ۹۲ تا ۱۰۴°C (وابسته به گرید/آزمون)">~92–104°C (grade/test dependent)</span></div>
</div>

<div class="property-item">
<div class="property-label"><i class="fas fa-thermometer-half"></i> <span data-i18n-en="Heat Deflection (HDT)" data-i18n-fa="دمای تغییرشکل حرارتی (HDT)">Heat Deflection (HDT)</span></div>
<div class="property-value"><span data-i18n-en="~96–101°C (0.45–1.8 MPa)" data-i18n-fa="حدود ۹۶ تا ۱۰۱°C (در ۰.۴۵ تا ۱.۸ مگاپاسکال)">~96–101°C (0.45–1.8 MPa)</span></div>
</div>

<div class="property-item">
<div class="property-label"><i class="fas fa-tint"></i> <span data-i18n-en="Water Absorption" data-i18n-fa="جذب آب">Water Absorption</span></div>
<div class="property-value"><span data-i18n-en="~0.35% (eq) / ~1.65% (sat @23°C)" data-i18n-fa="حدود ۰.۳۵٪ (تعادلی) / ۱.۶۵٪ (اشباع در ۲۳°C)">~0.35% (eq) / ~1.65% (sat @23°C)</span></div>
</div>

<div class="property-item">
<div class="property-label"><i class="fas fa-water"></i> <span data-i18n-en="Solubility in Water" data-i18n-fa="حلالیت در آب">Solubility in Water</span></div>
<div class="property-value"><span data-i18n-en="Insoluble" data-i18n-fa="نامحلول">Insoluble</span></div>
</div>

<div class="property-item">
<div class="property-label"><i class="fas fa-industry"></i> <span data-i18n-en="Processing Melt Temp." data-i18n-fa="دمای مذاب فرآیندی">Processing Melt Temp.</span></div>
<div class="property-value"><span data-i18n-en="~240–280°C (typical window)" data-i18n-fa="حدود ۲۴۰ تا ۲۸۰°C (پنجره تیپیک)">~240–280°C (typical window)</span></div>
</div>
</div>

<div class="capacity-note">
<span
data-i18n-en="ASA is a weatherable styrenic engineering thermoplastic commonly supplied as milky off-white pellets/granules. In China, ASA is widely consumed in profile extrusion (windows/siding) and automotive exterior parts where UV durability is critical."
data-i18n-fa="ASA یک ترموپلاست مهندسی استایرنیک با دوام جوی بالا است که معمولاً به‌صورت پلت/گرانول سفیدِ مایل به شیری عرضه می‌شود. در چین، ASA به‌طور گسترده در اکستروژن پروفیل (پنجره/سایدینگ) و قطعات بیرونی خودرو که دوام در برابر UV حیاتی است مصرف می‌گردد."
>ASA is a weatherable styrenic engineering thermoplastic commonly supplied as milky off-white pellets/granules. In China, ASA is widely consumed in profile extrusion (windows/siding) and automotive exterior parts where UV durability is critical.</span>
</div>
</div>

<div class="section-card">
<div class="section-header hazard-header">
<div class="section-icon"><i class="fas fa-exclamation-triangle"></i></div>
<h2 class="section-title"><span data-i18n-en="Hazard Classification" data-i18n-fa="طبقه‌بندی خطر">Hazard Classification</span></h2>
</div>

<div class="hazard-section">
<h3 class="hazard-title">
<i class="fas fa-shield-alt"></i>
<span data-i18n-en="Not classified as hazardous; control dust & avoid overheating" data-i18n-fa="معمولاً خطرناک طبقه‌بندی نمی‌شود؛ کنترل گردوغبار و جلوگیری از داغ‌شدن بیش‌ازحد">Not classified as hazardous; control dust & avoid overheating</span>
</h3>
<p class="hazard-value">
<span
data-i18n-en="ASA is typically supplied as solid pellets. Under normal handling it is generally not classified as hazardous; however, dust can irritate eyes/airways and dust accumulation may increase dust-explosion potential. In fire/overheating, polymers can decompose and generate irritating/toxic fumes—use ventilation and appropriate PPE."
data-i18n-fa="ASA معمولاً به‌صورت پلت جامد عرضه می‌شود و در شرایط نرمالِ هندلینگ عموماً به‌عنوان ماده خطرناک طبقه‌بندی نمی‌گردد؛ با این حال گردوغبار می‌تواند چشم/مجاری تنفسی را تحریک کند و تجمع گردوغبار می‌تواند پتانسیل انفجار گردوغبار را افزایش دهد. در آتش‌سوزی یا داغ‌شدن بیش‌ازحد، پلیمر می‌تواند تجزیه شده و دود/بخارهای تحریک‌کننده یا سمی ایجاد کند؛ تهویه و تجهیزات حفاظت فردی را رعایت کنید."
>ASA is typically supplied as solid pellets. Under normal handling it is generally not classified as hazardous; however, dust can irritate eyes/airways and dust accumulation may increase dust-explosion potential. In fire/overheating, polymers can decompose and generate irritating/toxic fumes—use ventilation and appropriate PPE.</span>
</p>
</div>

<div class="section-header health-header" style="margin-top: 25px;">
<div class="section-icon"><i class="fas fa-heartbeat"></i></div>
<h2 class="section-title"><span data-i18n-en="Chronic / Handling Notes" data-i18n-fa="نکات مواجهه/بلندمدت">Chronic / Handling Notes</span></h2>
</div>

<div class="health-section">
<h3 class="health-title">
<i class="fas fa-user-injured"></i>
<span data-i18n-en="Dust irritation; molten polymer burn risk" data-i18n-fa="تحریک ناشی از گردوغبار؛ ریسک سوختگی با پلیمر مذاب">Dust irritation; molten polymer burn risk</span>
</h3>
<p class="health-value">
<span
data-i18n-en="Long-term risk is mainly occupational: pellet grinding/handling can create dust (irritation). During processing (extrusion/injection), avoid fume exposure from overheating and prevent contact with molten resin. In high-throughput Chinese extrusion hubs, good housekeeping and local exhaust ventilation are key controls."
data-i18n-fa="ریسک بلندمدت عمدتاً شغلی است: خردایش/هندلینگ پلت می‌تواند گردوغبار ایجاد کند (تحریک). در فرآیند (اکستروژن/تزریق)، از استنشاق بخارات ناشی از داغی بیش‌ازحد جلوگیری کنید و از تماس با رزین مذاب پیشگیری نمایید. در هاب‌های اکستروژن پرظرفیت چین، نظافت صنعتی و تهویه موضعی (LEV) کنترل‌های کلیدی هستند."
>Long-term risk is mainly occupational: pellet grinding/handling can create dust (irritation). During processing (extrusion/injection), avoid fume exposure from overheating and prevent contact with molten resin. In high-throughput Chinese extrusion hubs, good housekeeping and local exhaust ventilation are key controls.</span>
</p>
</div>
</div>

<div class="molecular-visualization">
<div class="molecular-header">
<div class="section-icon"><i class="fas fa-project-diagram"></i></div>
<h2 class="molecular-title"><span data-i18n-en="3D Polymer Chain (Simplified)" data-i18n-fa="زنجیره پلیمری سه‌بعدی (نمایش ساده‌شده)">3D Polymer Chain (Simplified)</span></h2>
</div>
<div class="molecular-diagram"><div id="molecular-canvas"></div></div>
<div class="molecular-info">
<div class="molecular-label"><span class="color-swatch molecular-red"></span><span data-i18n-en="Styrene segment (S)" data-i18n-fa="سگمنت استایرن (S)">Styrene segment (S)</span></div>
<div class="molecular-label"><span class="color-swatch molecular-blue"></span><span data-i18n-en="Acrylonitrile segment (AN)" data-i18n-fa="سگمنت آکریلونیتریل (AN)">Acrylonitrile segment (AN)</span></div>
<div class="molecular-label"><span class="color-swatch molecular-gray"></span><span data-i18n-en="Acrylate segment (A)" data-i18n-fa="سگمنت اکریلات (A)">Acrylate segment (A)</span></div>
</div>
<div class="capacity-note">
<span
data-i18n-en="Interactive visualization is a conceptual ASA terpolymer chain (S/AN/A). Real ASA morphology includes rubbery acrylate domains for impact and a styrenic matrix for stiffness—key to outdoor durability."
data-i18n-fa="نمایش تعاملی، یک مدل مفهومی از زنجیره ترپلیمری ASA (S/AN/A) است. در واقع، ASA شامل دامنه‌های لاستیکیِ اکریلاتی برای ضربه‌پذیری و ماتریس استایرنیک برای سختی است که برای دوام فضای باز اهمیت دارد."
>Interactive visualization is a conceptual ASA terpolymer chain (S/AN/A). Real ASA morphology includes rubbery acrylate domains for impact and a styrenic matrix for stiffness—key to outdoor durability.</span>
</div>
</div>

<div class="feedstock-section">
<div class="feedstock-header">
<div class="section-icon"><i class="fas fa-industry"></i></div>
<h2 class="feedstock-title"><span data-i18n-en="Production Process &amp; Capacity" data-i18n-fa="فرآیند تولید و ظرفیت">Production Process &amp; Capacity</span></h2>
</div>

<div class="process-info">
<i class="fas fa-info-circle" style="margin-inline-end: 6px; color: var(--primary);"></i>
<span data-i18n-en="ASA is produced by " data-i18n-fa="ASA از طریق ">ASA is produced by </span>
<span class="process-highlight"><span data-i18n-en="graft / blend polymerization (SAN + acrylic rubber)" data-i18n-fa="پلیمریزاسیون گرافت/بلند (SAN + لاستیک اکریلاتی)">graft / blend polymerization (SAN + acrylic rubber)</span></span>
<span data-i18n-en=", then pelletized and often compounded with UV stabilizers and color packages." data-i18n-fa=" تولید شده، سپس پلت‌سازی می‌شود و معمولاً با پایدارکننده‌های UV و پکیج‌های رنگ کامپاند می‌گردد.">, then pelletized and often compounded with UV stabilizers and color packages.</span>
</div>

<div class="process-selector">
<button class="process-btn active" data-process="graft"><span data-i18n-en="Graft / Polymerization (ASA)" data-i18n-fa="گرافت/پلیمریزاسیون (ASA)">Graft / Polymerization (ASA)</span></button>
<button class="process-btn" data-process="compounding"><span data-i18n-en="Compounding &amp; Profile Extrusion" data-i18n-fa="کامپاندینگ و اکستروژن پروفیل">Compounding &amp; Profile Extrusion</span></button>
</div>

<div class="process-stages">
<div class="stage">
<div class="stage-title"><span class="stage-number">1</span><span data-i18n-en="Monomer &amp; Rubber Preparation" data-i18n-fa="آماده‌سازی مونومر و فاز لاستیکی">Monomer &amp; Rubber Preparation</span></div>
<div class="stage-description">
<span
data-i18n-en="Styrene/acrylonitrile streams are prepared; acrylic rubber phase is formulated to deliver weathering and impact performance."
data-i18n-fa="خوراک‌های استایرن/آکریلونیتریل آماده می‌شوند؛ فاز لاستیکی اکریلاتی برای ایجاد دوام جوی و ضربه‌پذیری فرموله می‌گردد."
>Styrene/acrylonitrile streams are prepared; acrylic rubber phase is formulated to deliver weathering and impact performance.</span>
</div>
</div>

<div class="stage">
<div class="stage-title"><span class="stage-number">2</span><span data-i18n-en="Graft / Copolymerization" data-i18n-fa="گرافت/کوپلیمریزاسیون">Graft / Copolymerization</span></div>
<div class="stage-description">
<span
data-i18n-en="SAN matrix is formed and grafted onto acrylate rubber domains, creating ASA morphology (stiff matrix + impact modifier)."
data-i18n-fa="ماتریس SAN تشکیل شده و روی دامنه‌های لاستیک اکریلاتی گرافت می‌شود تا مورفولوژی ASA (ماتریس سخت + اصلاح‌کننده ضربه) شکل بگیرد."
>SAN matrix is formed and grafted onto acrylate rubber domains, creating ASA morphology (stiff matrix + impact modifier).</span>
</div>
</div>

<div class="stage">
<div class="stage-title"><span class="stage-number">3</span><span data-i18n-en="Pelletizing &amp; Stabilization" data-i18n-fa="پلت‌سازی و پایدارسازی">Pelletizing &amp; Stabilization</span></div>
<div class="stage-description">
<span
data-i18n-en="Polymer is devolatilized/pelletized; stabilizers (UV/heat) and color masterbatches can be integrated for outdoor grades."
data-i18n-fa="پلیمر دی‌ولتیلایز و پلت‌سازی می‌شود؛ پایدارکننده‌ها (UV/حرارتی) و مستربچ‌های رنگ برای گریدهای فضای باز می‌توانند اضافه شوند."
>Polymer is devolatilized/pelletized; stabilizers (UV/heat) and color masterbatches can be integrated for outdoor grades.</span>
</div>
</div>

<div class="stage">
<div class="stage-title"><span class="stage-number">4</span><span data-i18n-en="Quality &amp; Applications" data-i18n-fa="کنترل کیفیت و کاربرد">Quality &amp; Applications</span></div>
<div class="stage-description">
<span
data-i18n-en="Grades are tuned for HDT/impact/weathering. In China, large downstream converters focus on extrusion profiles and automotive exterior trims."
data-i18n-fa="گریدها برای HDT/ضربه/دوام جوی تنظیم می‌شوند. در چین، بخش بزرگی از مبدل‌های پایین‌دستی روی پروفیل‌های اکستروژنی و قطعات بیرونی خودرو تمرکز دارند."
>Grades are tuned for HDT/impact/weathering. In China, large downstream converters focus on extrusion profiles and automotive exterior trims.</span>
</div>
</div>
</div>

<div class="plant-capacity">
<div class="capacity-card">
<div class="capacity-title"><i class="fas fa-industry"></i> <span data-i18n-en="Indicative Minimum Capacity" data-i18n-fa="حداقل ظرفیت شاخص">Indicative Minimum Capacity</span></div>
<div class="capacity-value"><span data-i18n-en="30–40K T/Y" data-i18n-fa="۳۰ تا ۴۰ هزار تن/سال">30–40K T/Y</span></div>
<div class="capacity-location"><span data-i18n-en="Compounding / extrusion line scale" data-i18n-fa="مقیاس خط کامپاندینگ/اکستروژن">Compounding / extrusion line scale</span></div>
</div>

<div class="capacity-card">
<div class="capacity-title"><i class="fas fa-industry"></i> <span data-i18n-en="Benchmark World-Scale Train" data-i18n-fa="ظرفیت شاخص مقیاس‌جهانی">Benchmark World-Scale Train</span></div>
<div class="capacity-value"><span data-i18n-en="100K T/Y" data-i18n-fa="۱۰۰ هزار تن/سال">100K T/Y</span></div>
<div class="capacity-location"><span data-i18n-en="Dedicated ASA polymerization plant" data-i18n-fa="پلان پلیمریزاسیون اختصاصی ASA">Dedicated ASA polymerization plant</span></div>
</div>
</div>

<div class="capacity-note">
<span
data-i18n-en="Asia-Pacific is the largest ASA consuming region, driven strongly by China’s construction (profiles, siding) and automotive exterior demand. Logistics are simpler than monomers (solid pellets), but dust control and overheating avoidance remain important."
data-i18n-fa="آسیا-اقیانوسیه بزرگ‌ترین منطقه مصرف ASA است و چین به‌واسطه ساخت‌وساز (پروفیل/سایدینگ) و تقاضای قطعات بیرونی خودرو محرک اصلی محسوب می‌شود. لجستیک نسبت به مونومرها ساده‌تر است (پلت جامد)، اما کنترل گردوغبار و جلوگیری از داغی بیش‌ازحد همچنان مهم است."
>Asia-Pacific is the largest ASA consuming region, driven strongly by China’s construction (profiles, siding) and automotive exterior demand. Logistics are simpler than monomers (solid pellets), but dust control and overheating avoidance remain important.</span>
</div>
</div>

<div class="applications-section">
<div class="applications-header">
<div class="section-icon"><i class="fas fa-building"></i></div>
<h2 class="applications-title"><span data-i18n-en="Industry Applications" data-i18n-fa="کاربردهای صنعتی">Industry Applications</span></h2>
</div>

<div class="industry-tags">
<div class="industry-tag"><span data-i18n-en="Automotive Exterior" data-i18n-fa="قطعات بیرونی خودرو">Automotive Exterior</span></div>
<div class="industry-tag"><span data-i18n-en="Building Profiles (windows/siding)" data-i18n-fa="پروفیل‌های ساختمانی (پنجره/سایدینگ)">Building Profiles (windows/siding)</span></div>
<div class="industry-tag"><span data-i18n-en="Appliances & Electronics Housings" data-i18n-fa="بدنه لوازم خانگی و الکترونیک">Appliances & Electronics Housings</span></div>
<div class="industry-tag"><span data-i18n-en="Outdoor Goods & Furniture" data-i18n-fa="کالاهای فضای باز و مبلمان">Outdoor Goods & Furniture</span></div>
<div class="industry-tag"><span data-i18n-en="Compounds / 3D Printing (niche)" data-i18n-fa="کامپاندها / پرینت سه‌بعدی (نیش)">Compounds / 3D Printing (niche)</span></div>
</div>

<div class="application-chart">
<canvas height="220" id="applicationsChart" width="400"></canvas>
</div>

<div class="chart-legend">
<div class="legend-item"><span class="legend-color" style="background-color:#2563eb;"></span>
<span><span data-i18n-en="Automotive exterior (40%)" data-i18n-fa="قطعات بیرونی خودرو (۴۰٪)">Automotive exterior (40%)</span></span>
</div>
<div class="legend-item"><span class="legend-color" style="background-color:#8b5cf6;"></span>
<span><span data-i18n-en="Building profiles (30%)" data-i18n-fa="پروفیل‌های ساختمانی (۳۰٪)">Building profiles (30%)</span></span>
</div>
<div class="legend-item"><span class="legend-color" style="background-color:#10b981;"></span>
<span><span data-i18n-en="Appliances/electronics (15%)" data-i18n-fa="لوازم خانگی/الکترونیک (۱۵٪)">Appliances/electronics (15%)</span></span>
</div>
<div class="legend-item"><span class="legend-color" style="background-color:#f59e0b;"></span>
<span><span data-i18n-en="Outdoor goods (10%)" data-i18n-fa="کالاهای فضای باز (۱۰٪)">Outdoor goods (10%)</span></span>
</div>
<div class="legend-item"><span class="legend-color" style="background-color:#ef4444;"></span>
<span><span data-i18n-en="Others (5%)" data-i18n-fa="سایر (۵٪)">Others (5%)</span></span>
</div>
</div>
</div>

<div class="section-card">
<div class="section-header license-header">
<div class="section-icon"><i class="fas fa-certificate"></i></div>
<h2 class="section-title"><span data-i18n-en="Top Technology / Resin Providers" data-i18n-fa="برترین تأمین‌کنندگان فناوری/رزین">Top Technology / Resin Providers</span></h2>
</div>

<p style="color:#475569;margin-bottom:15px;line-height:1.5;">
<span
data-i18n-en="ASA is positioned as a weatherable alternative to ABS/PVC for outdoor use. Know-how concentrates on graft morphology control, stabilizer packages, and consistent pellet quality. Asia-Pacific—especially China—is a major demand and conversion center."
data-i18n-fa="ASA به‌عنوان جایگزینِ مقاوم به شرایط جوی برای ABS/PVC در کاربردهای فضای باز مطرح است. دانش فنی کلیدی روی کنترل مورفولوژی گرافت، پکیج‌های پایدارکننده و کیفیت یکنواخت پلت متمرکز است. آسیا-اقیانوسیه—خصوصاً چین—مرکز مهم تقاضا و تبدیل/مصرف پایین‌دستی است."
>ASA is positioned as a weatherable alternative to ABS/PVC for outdoor use. Know-how concentrates on graft morphology control, stabilizer packages, and consistent pellet quality. Asia-Pacific—especially China—is a major demand and conversion center.</span>
</p>

<div class="license-providers">
<div class="provider-item"><div class="provider-rank">1</div><div class="provider-info">
<div class="provider-name">INEOS Styrolution (Luran® S)</div>
<div class="provider-details"><span data-i18n-en="ASA grades &amp; application know-how | Global" data-i18n-fa="گریدهای ASA و دانش کاربردی | جهانی">ASA grades &amp; application know-how | Global</span></div>
<div class="provider-licenses"><span data-i18n-en="Weatherable styrenics; extrusion &amp; injection grades" data-i18n-fa="استایرنیک‌های مقاوم به شرایط جوی؛ گریدهای اکستروژن و تزریق">Weatherable styrenics; extrusion &amp; injection grades</span></div>
</div></div>

<div class="provider-item"><div class="provider-rank">2</div><div class="provider-info">
<div class="provider-name">LG Chem</div>
<div class="provider-details"><span data-i18n-en="ASA resin portfolio | Asia/Global" data-i18n-fa="پرتفوی رزین ASA | آسیا/جهانی">ASA resin portfolio | Asia/Global</span></div>
<div class="provider-licenses"><span data-i18n-en="Automotive &amp; outdoor performance grades" data-i18n-fa="گریدهای عملکردی برای خودرو و فضای باز">Automotive &amp; outdoor performance grades</span></div>
</div></div>

<div class="provider-item"><div class="provider-rank">3</div><div class="provider-info">
<div class="provider-name">Chi Mei / Formosa Group</div>
<div class="provider-details"><span data-i18n-en="Styrenics integration &amp; ASA supply | Asia" data-i18n-fa="یکپارچگی استایرنیک‌ها و تأمین ASA | آسیا">Styrenics integration &amp; ASA supply | Asia</span></div>
<div class="provider-licenses"><span data-i18n-en="High-volume regional supply to converters" data-i18n-fa="تأمین منطقه‌ای با حجم بالا برای مبدل‌ها">High-volume regional supply to converters</span></div>
</div></div>

<div class="provider-item"><div class="provider-rank">4</div><div class="provider-info">
<div class="provider-name">SABIC</div>
<div class="provider-details"><span data-i18n-en="Engineering plastics &amp; compounding | Global" data-i18n-fa="پلاستیک‌های مهندسی و کامپاندینگ | جهانی">Engineering plastics &amp; compounding | Global</span></div>
<div class="provider-licenses"><span data-i18n-en="Application development and compounds" data-i18n-fa="توسعه کاربرد و کامپاندها">Application development and compounds</span></div>
</div></div>

<div class="provider-item"><div class="provider-rank">5</div><div class="provider-info">
<div class="provider-name">Kumho Petrochemical (KKPC)</div>
<div class="provider-details"><span data-i18n-en="ASA/ABS synergies | Asia" data-i18n-fa="هم‌افزایی ASA/ABS | آسیا">ASA/ABS synergies | Asia</span></div>
<div class="provider-licenses"><span data-i18n-en="Switchable styrenics assets and grades" data-i18n-fa="دارایی‌های قابل‌تغییر بین استایرنیک‌ها و گریدها">Switchable styrenics assets and grades</span></div>
</div></div>

<div class="provider-item"><div class="provider-rank">6</div><div class="provider-info">
<div class="provider-name">Trinseo / Regional Producers</div>
<div class="provider-details"><span data-i18n-en="Specialty styrenics &amp; distribution | Global" data-i18n-fa="استایرنیک‌های تخصصی و توزیع | جهانی">Specialty styrenics &amp; distribution | Global</span></div>
<div class="provider-licenses"><span data-i18n-en="Grades for appliances &amp; durable goods" data-i18n-fa="گریدهای لوازم خانگی و کالاهای بادوام">Grades for appliances &amp; durable goods</span></div>
</div></div>

<div class="provider-item"><div class="provider-rank">7</div><div class="provider-info">
<div class="provider-name">Nantong Xingchen (China)</div>
<div class="provider-details"><span data-i18n-en="Domestic Chinese ASA supplier | China" data-i18n-fa="تأمین‌کننده داخلی ASA | چین">Domestic Chinese ASA supplier | China</span></div>
<div class="provider-licenses"><span data-i18n-en="Local supply to construction &amp; extrusion hubs" data-i18n-fa="تأمین محلی برای هاب‌های ساختمانی و اکستروژن">Local supply to construction &amp; extrusion hubs</span></div>
</div></div>

<div class="provider-item"><div class="provider-rank">8</div><div class="provider-info">
<div class="provider-name">Shandong Novista / Chinese Converters</div>
<div class="provider-details"><span data-i18n-en="Additives/compounds ecosystem | China" data-i18n-fa="اکوسیستم افزودنی/کامپاند | چین">Additives/compounds ecosystem | China</span></div>
<div class="provider-licenses"><span data-i18n-en="Formulation packages for outdoor durability" data-i18n-fa="پکیج‌های فرمولاسیون برای دوام فضای باز">Formulation packages for outdoor durability</span></div>
</div></div>
</div>
</div>

</div><!-- /main-content -->

<div class="sidebar">

<div class="market-insights">
<div class="market-header">
<div class="section-icon"><i class="fas fa-chart-pie"></i></div>
<h2 class="market-title"><span data-i18n-en="Global Demand Analysis" data-i18n-fa="تحلیل تقاضای جهانی">Global Demand Analysis</span></h2>
</div>

<p class="market-description">
<span
data-i18n-en="ASA demand is strongest where outdoor durability is needed (construction profiles, automotive exterior). Asia-Pacific is the largest consuming region, with China being a major driver through rapid urbanization, infrastructure build-out, and high-volume profile extrusion."
data-i18n-fa="تقاضای ASA در جایی قوی‌تر است که دوام فضای باز لازم باشد (پروفیل‌های ساختمانی، قطعات بیرونی خودرو). آسیا-اقیانوسیه بزرگ‌ترین منطقه مصرف است و چین با شهرنشینی سریع، توسعه زیرساخت و اکستروژن حجیمِ پروفیل‌ها نقش محرک اصلی دارد."
>ASA demand is strongest where outdoor durability is needed (construction profiles, automotive exterior). Asia-Pacific is the largest consuming region, with China being a major driver through rapid urbanization, infrastructure build-out, and high-volume profile extrusion.</span>
</p>

<div class="demand-chart-container">
<canvas height="250" id="demandChart" width="400"></canvas>
</div>

<div class="chart-legend">
<div class="legend-item"><span class="legend-color" style="background-color:#2563eb;"></span>
<span><span data-i18n-en="Asia-Pacific (55%)" data-i18n-fa="آسیا-اقیانوسیه (۵۵٪)">Asia-Pacific (55%)</span></span>
</div>
<div class="legend-item"><span class="legend-color" style="background-color:#8b5cf6;"></span>
<span><span data-i18n-en="North America (18%)" data-i18n-fa="آمریکای شمالی (۱۸٪)">North America (18%)</span></span>
</div>
<div class="legend-item"><span class="legend-color" style="background-color:#10b981;"></span>
<span><span data-i18n-en="Europe (17%)" data-i18n-fa="اروپا (۱۷٪)">Europe (17%)</span></span>
</div>
<div class="legend-item"><span class="legend-color" style="background-color:#f59e0b;"></span>
<span><span data-i18n-en="Middle East &amp; Africa (10%)" data-i18n-fa="خاورمیانه و آفریقا (۱۰٪)">Middle East & Africa (10%)</span></span>
</div>
</div>
</div>

<div class="key-commodity">
<div class="companies-header">
<div class="section-icon"><i class="fas fa-industry"></i></div>
<h2 class="companies-title"><span data-i18n-en="Production / Demand Distribution" data-i18n-fa="توزیع تولید/تقاضا">Production / Demand Distribution</span></h2>
</div>

<div class="property-grid" style="grid-template-columns:1fr;">
<div class="property-item">
<div class="property-label"><span data-i18n-en="Estimated Market Volume (2024)" data-i18n-fa="برآورد حجم بازار (۲۰۲۴)">Estimated Market Volume (2024)</span></div>
<div class="property-value" style="color:var(--primary);"><span data-i18n-en="~0.40M T/Y" data-i18n-fa="حدود ۰.۴۰ میلیون تن/سال">~0.40M T/Y</span></div>
</div>
<div class="property-item"><div class="property-label"><span data-i18n-en="Asia-Pacific (China-led)" data-i18n-fa="آسیا-اقیانوسیه (با محوریت چین)">Asia-Pacific (China-led)</span></div><div class="property-value" style="color:var(--primary);">55%</div></div>
<div class="property-item"><div class="property-label"><span data-i18n-en="North America" data-i18n-fa="آمریکای شمالی">North America</span></div><div class="property-value" style="color:var(--primary);">18%</div></div>
<div class="property-item"><div class="property-label"><span data-i18n-en="Europe" data-i18n-fa="اروپا">Europe</span></div><div class="property-value" style="color:var(--primary);">17%</div></div>
<div class="property-item"><div class="property-label"><span data-i18n-en="Other Regions" data-i18n-fa="سایر مناطق">Other Regions</span></div><div class="property-value" style="color:var(--primary);">10%</div></div>
</div>
</div>

<div class="section-card">
<div class="section-header">
<div class="section-icon" style="background:rgba(239,115,51,0.1);color:#ef7333;"><i class="fas fa-calculator"></i></div>
<h2 class="section-title"><span data-i18n-en="Capital Expenditure (CAPEX) Snapshot" data-i18n-fa="نمای کلی هزینه سرمایه‌گذاری (CAPEX)">Capital Expenditure (CAPEX) Snapshot</span></h2>
</div>

<p style="color:#475569;margin-bottom:20px;line-height:1.5;">
<span
data-i18n-en="ASA CAPEX depends heavily on integration with styrenics (SAN/ABS) and whether the project is a compounding expansion or a dedicated polymerization plant. China often emphasizes high-throughput downstream conversion (extrusion profiles), where compounding/extrusion lines are the key incremental CAPEX."
data-i18n-fa="CAPEX تولید ASA به‌شدت به میزان یکپارچگی با استایرنیک‌ها (SAN/ABS) و اینکه پروژه توسعه کامپاندینگ باشد یا پلان پلیمریزاسیون اختصاصی وابسته است. در چین معمولاً تمرکز روی تبدیل پایین‌دستی با ظرفیت بالا (اکستروژن پروفیل) است که در آن خطوط کامپاندینگ/اکستروژن محرک اصلی CAPEX افزایشی هستند."
>ASA CAPEX depends heavily on integration with styrenics (SAN/ABS) and whether the project is a compounding expansion or a dedicated polymerization plant. China often emphasizes high-throughput downstream conversion (extrusion profiles), where compounding/extrusion lines are the key incremental CAPEX.</span>
</p>

<div style="display:flex;flex-direction:column;gap:25px;">
<div style="background:#f8fafc;border-radius:16px;padding:20px;border-left:4px solid #ef7333;">
<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;">
<h3 style="font-weight:600;color:var(--dark);display:flex;align-items:center;gap:8px;">
<i class="fas fa-industry" style="color:#ef7333;"></i> <span data-i18n-en="Case CAPEX (Compounding expansion, reference scale)" data-i18n-fa="CAPEX نمونه (توسعه کامپاندینگ، مقیاس مرجع)">Case CAPEX (Compounding expansion, reference scale)</span>
</h3>
<div style="background:rgba(239,115,51,0.1);color:#ef7333;padding:5px 12px;border-radius:12px;font-weight:600;">
<span data-i18n-en="Benchmark" data-i18n-fa="شاخص">Benchmark</span>
</div>
</div>

<div style="font-family:'Space Grotesk',sans-serif;font-size:2.8rem;font-weight:700;color:#ef7333;margin-bottom:10px;text-align:center;">
<span data-i18n-en="$20M" data-i18n-fa="۲۰ میلیون دلار">$20M</span>
</div>

<div style="text-align:center;color:#64748b;font-size:0.95rem;margin-bottom:15px;">
<span data-i18n-en="Example: +34 kt/y compounding capacity upgrade (order-of-magnitude)" data-i18n-fa="مثال: ارتقای ظرفیت کامپاندینگ +۳۴ هزار تن/سال (مقیاس-مرتبه)">Example: +34 kt/y compounding capacity upgrade (order-of-magnitude)</span>
</div>

<div style="height:6px;background:#e2e8f0;border-radius:3px;overflow:hidden;position:relative;">
<div style="position:absolute;top:0;left:0;height:100%;width:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.5),transparent);transform:translateX(-100%);animation:shimmer 1.5s infinite;"></div>
<div style="height:100%;width:70%;background:linear-gradient(to right,#f97316,#ef7333);border-radius:3px;"></div>
</div>
</div>
</div>
</div>

<div class="key-companies">
<div class="companies-header">
<div class="section-icon"><i class="fas fa-city"></i></div>
<h2 class="companies-title"><span data-i18n-en="Key Manufacturers" data-i18n-fa="تولیدکنندگان کلیدی">Key Manufacturers</span></h2>
</div>

<ul class="company-list">
<li class="company-item">
<div class="company-flag"><span data-i18n-en="DE/US" data-i18n-fa="آلمان/آمریکا">DE/US</span></div>
<div>
<div class="company-name">INEOS Styrolution (Luran® S)</div>
<div class="company-country"><span data-i18n-en="Dedicated ASA grades for extrusion/injection" data-i18n-fa="گریدهای اختصاصی ASA برای اکستروژن/تزریق">Dedicated ASA grades for extrusion/injection</span></div>
</div>
</li>

<li class="company-item">
<div class="company-flag"><span data-i18n-en="KR" data-i18n-fa="کره">KR</span></div>
<div>
<div class="company-name">LG Chem</div>
<div class="company-country"><span data-i18n-en="Large Asia supply; automotive & outdoor grades" data-i18n-fa="تأمین بزرگ در آسیا؛ گریدهای خودرو و فضای باز">Large Asia supply; automotive & outdoor grades</span></div>
</div>
</li>

<li class="company-item">
<div class="company-flag"><span data-i18n-en="TW" data-i18n-fa="تایوان">TW</span></div>
<div>
<div class="company-name">Chi Mei / Formosa Group</div>
<div class="company-country"><span data-i18n-en="Styrenics integration and regional distribution" data-i18n-fa="یکپارچگی استایرنیک‌ها و توزیع منطقه‌ای">Styrenics integration and regional distribution</span></div>
</div>
</li>

<li class="company-item">
<div class="company-flag"><span data-i18n-en="SA" data-i18n-fa="عربستان">SA</span></div>
<div>
<div class="company-name">SABIC</div>
<div class="company-country"><span data-i18n-en="Engineering resins & compounds ecosystem" data-i18n-fa="اکوسیستم رزین‌های مهندسی و کامپاندها">Engineering resins & compounds ecosystem</span></div>
</div>
</li>

<li class="company-item">
<div class="company-flag"><span data-i18n-en="CN" data-i18n-fa="چین">CN</span></div>
<div>
<div class="company-name">Nantong Xingchen Synthetic Material</div>
<div class="company-country"><span data-i18n-en="Domestic producer serving China’s conversion hubs" data-i18n-fa="تولیدکننده داخلی برای هاب‌های تبدیل چین">Domestic producer serving China’s conversion hubs</span></div>
</div>
</li>

<li class="company-item">
<div class="company-flag"><span data-i18n-en="CN" data-i18n-fa="چین">CN</span></div>
<div>
<div class="company-name">Shandong Novista / China compounds</div>
<div class="company-country"><span data-i18n-en="Formulation & additives support for outdoor durability" data-i18n-fa="پشتیبانی فرمولاسیون و افزودنی برای دوام فضای باز">Formulation & additives support for outdoor durability</span></div>
</div>
</li>
</ul>
</div>

</div><!-- /sidebar -->
</div><!-- /content-grid -->

<div class="design-credit">
<div class="credit-header">
<div class="credit-icon"><i class="fas fa-hard-hat"></i></div>
<h2 class="credit-title"><span data-i18n-en="Engineering Design Credit" data-i18n-fa="هزینه طراحی مهندسی">Engineering Design Credit</span></h2>
</div>
<div class="credit-details">
<p><span data-i18n-en="This chemical database entry was developed and designed by Ali Hosseinpour." data-i18n-fa="این پایگاه‌داده شیمیایی توسط علی حسین‌پور گردآوری و تدوین شده است.">This chemical database entry was developed and designed by Ali Hosseinpour.</span></p>
</div>
<div class="contact-info">
<a class="contact-item" href="tel:+989162926778"><i class="fas fa-phone"></i><span>+989162926778</span></a>
<a class="contact-item" href="mailto:hosseinpour431@gmail.com"><i class="fas fa-envelope"></i><span>hosseinpour431@gmail.com</span></a>
</div>
</div>

<footer>
<p><span data-i18n-en="Chemical Farm © 2025 | Comprehensive chemical intelligence for industry professionals" data-i18n-fa="کمیکال فارم © 2025| هوشمندی جامع شیمی برای متخصصان صنعت">Chemical Farm © 2025 | Comprehensive chemical intelligence for industry professionals</span></p>
<p class="footer-note"><span data-i18n-en="Data verified through authoritative chemical databases and industry reports" data-i18n-fa="داده‌ها با اتکا به پایگاه‌های معتبر شیمیایی و گزارش‌های صنعتی راستی‌آزمایی شده‌اند">Data verified through authoritative chemical databases and industry reports</span></p>
</footer>

</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    initMolecularVisualization();
    initDemandPieChart();
    initApplicationsPieChart();

    document.querySelectorAll('.material-tag').forEach(tag => {
        tag.addEventListener('click', function() {
            const material = this.textContent;
            const si = document.getElementById('search-input'); if (si) si.value = material;
            alert(`Searching for products related to ${material}...`);
        });
    });

    document.querySelectorAll('.company-item').forEach(item => {
        item.addEventListener('click', function() {
            const companyName = this.querySelector('.company-name').textContent;
            alert(`Viewing detailed information for ${companyName}...`);
        });
    });

const processTemplates = {
    graft: {
        infoHTML: `
            <i class="fas fa-info-circle" style="margin-inline-end: 6px; color: var(--primary);"></i>
            <span data-i18n-en="ASA is manufactured via " data-i18n-fa="ASA از طریق ">ASA is manufactured via </span>
            <span class="process-highlight"><span data-i18n-en="graft / copolymerization of SAN with acrylate rubber domains" data-i18n-fa="گرافت/کوپلیمریزاسیون SAN با دامنه‌های لاستیک اکریلاتی">graft / copolymerization of SAN with acrylate rubber domains</span></span>
            <span data-i18n-en=" to achieve UV durability and impact strength." data-i18n-fa=" تا دوام UV و ضربه‌پذیری حاصل شود."> to achieve UV durability and impact strength.</span>
        `,
        stages: [
            { en:"Styrene and acrylonitrile streams are conditioned; acrylate rubber phase is prepared to tune impact and weathering.", fa:"جریان‌های استایرن و آکریلونیتریل آماده‌سازی می‌شوند؛ فاز لاستیک اکریلاتی برای تنظیم ضربه و دوام جوی تهیه می‌گردد." },
            { en:"SAN matrix formation and grafting onto rubber domains create ASA morphology (stiff matrix + rubber toughening).", fa:"تشکیل ماتریس SAN و گرافت روی دامنه‌های لاستیکی، مورفولوژی ASA را ایجاد می‌کند (ماتریس سخت + بهبود ضربه)." },
            { en:"Devolatilization reduces residual monomers; product is pelletized for stable logistics and dosing.", fa:"دی‌ولتیلایز کردن، مونومرهای باقیمانده را کم می‌کند؛ محصول برای لجستیک پایدار و دوزینگ به پلت تبدیل می‌شود." },
            { en:"Grades are validated for weathering (UV), HDT and impact; outdoor and automotive exterior grades are common.", fa:"گریدها برای دوام جوی (UV)، HDT و ضربه تأیید می‌شوند؛ گریدهای فضای باز و قطعات بیرونی خودرو رایج‌اند." }
        ]
    },
    compounding: {
        infoHTML: `
            <i class="fas fa-info-circle" style="margin-inline-end: 6px; color: var(--primary);"></i>
            <span data-i18n-en="In downstream conversion, " data-i18n-fa="در تبدیل پایین‌دستی، ">In downstream conversion, </span>
            <span class="process-highlight"><span data-i18n-en="compounding, color/UV packages, and profile extrusion" data-i18n-fa="کامپاندینگ، پکیج‌های رنگ/UV و اکستروژن پروفیل">compounding, color/UV packages, and profile extrusion</span></span>
            <span data-i18n-en=" are key—especially in China’s construction supply chain." data-i18n-fa=" کلیدی هستند—به‌خصوص در زنجیره تأمین ساختمانی چین."> are key—especially in China’s construction supply chain.</span>
        `,
        stages: [
            { en:"Pellets are dried and fed to twin-screw compounding with stabilizers, pigments, and processing aids.", fa:"پلت‌ها خشک شده و به کامپاندینگ (اغلب اکسترودر دومارپیچ) همراه با پایدارکننده‌ها، پیگمنت‌ها و کمک‌فرآیندها تغذیه می‌شوند." },
            { en:"Formulation focuses on UV/heat stability and colorfastness for outdoor service.", fa:"فرمولاسیون روی پایداری UV/حرارتی و ثبات رنگ برای سرویس فضای باز تمرکز دارد." },
            { en:"Extrusion converts ASA compounds to profiles/sheets (windows, siding, trims); process control avoids overheating.", fa:"اکستروژن، کامپاند ASA را به پروفیل/ورق (پنجره، سایدینگ، تریم‌ها) تبدیل می‌کند؛ کنترل فرآیند از داغی بیش‌ازحد جلوگیری می‌کند." },
            { en:"Quality checks (surface, gloss, impact, weathering) are critical for high-volume Chinese construction applications.", fa:"کنترل کیفیت (سطح، براقیت، ضربه، دوام جوی) برای کاربردهای ساختمانی پُرحجم چین بسیار مهم است." }
        ]
    }
};

function setProcess(processType){
    const tpl = processTemplates[processType] || processTemplates.graft;
    const infoBox = document.querySelector('.process-info');
    if (infoBox) infoBox.innerHTML = tpl.infoHTML;

    const stageDescs = Array.from(document.querySelectorAll('.stage-description'));
    stageDescs.forEach((node, i)=>{
        const st = tpl.stages[i];
        if (!st) return;
        node.innerHTML = `<span data-i18n-en="${st.en.replace(/"/g,'&quot;')}" data-i18n-fa="${st.fa.replace(/"/g,'&quot;')}">${st.en}</span>`;
    });

    if (window.ChemI18n && typeof window.ChemI18n.refresh === 'function') window.ChemI18n.refresh();
}

document.querySelectorAll('.process-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        document.querySelectorAll('.process-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        setProcess(this.getAttribute('data-process'));
    });
});
const activeBtn = document.querySelector('.process-btn.active');
setProcess(activeBtn ? activeBtn.getAttribute('data-process') : 'graft');

    const searchInput = document.getElementById('search-input');
    if (searchInput) searchInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter' && this.value.trim() !== '') {
            const q = this.value.trim().toLowerCase();
            if (q.includes('asa') || q.includes('acrylonitrile') || q.includes('25956-22-3') || q.includes('اکریلات') || q.includes('استایرن')) {
                alert('Displaying ASA information...');
            } else {
                alert(`Searching for "${q}"... No exact match found. Showing closest results.`);
            }
        }
    });

    setTimeout(() => {
        document.querySelectorAll('.section-card, .market-insights, .key-companies, .key-commodity').forEach((card, index) => {
            setTimeout(() => { card.style.opacity = '1'; card.style.transform = 'translateY(0)'; }, 150 * index);
        });
    }, 100);
});

function initDemandPieChart() {
    const ctx = document.getElementById('demandChart').getContext('2d');
    new Chart(ctx, {
        type: 'pie',
        data: {
            labels: ['Asia-Pacific', 'North America', 'Europe', 'Middle East & Africa'],
            datasets: [{
                data: [55, 18, 17, 10],
                backgroundColor: ['#2563eb','#8b5cf6','#10b981','#f59e0b'],
                borderWidth: 1
            }]
        },
        options: { responsive:true, maintainAspectRatio:false, plugins:{ legend:{display:false}, tooltip:{callbacks:{label:c=>`${c.label}: ${c.parsed}%`}} } }
    });
}

function initApplicationsPieChart() {
    const ctx = document.getElementById('applicationsChart').getContext('2d');
    new Chart(ctx, {
        type: 'pie',
        data: {
            labels: ['Automotive exterior', 'Building profiles', 'Appliances/electronics', 'Outdoor goods', 'Others'],
            datasets: [{
                data: [40, 30, 15, 10, 5],
                backgroundColor: ['#2563eb','#8b5cf6','#10b981','#f59e0b','#ef4444'],
                borderWidth: 1
            }]
        },
        options: { responsive:true, maintainAspectRatio:false, plugins:{ legend:{display:false}, tooltip:{callbacks:{label:c=>`${c.label}: ${c.parsed}%`}} } }
    });
}

function initMolecularVisualization() {
    const container = document.getElementById('molecular-canvas');
    if (!container) return;

    const scene = new THREE.Scene();
    scene.background = new THREE.Color(getComputedStyle(document.documentElement).getPropertyValue('--molecule-bg').trim() || '#f8fafc');

    const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
    camera.position.z = 7.2;

    const renderer = new THREE.WebGLRenderer({ antialias:true, alpha:true });
    renderer.setSize(container.clientWidth, container.clientHeight);
    container.appendChild(renderer.domElement);

    scene.add(new THREE.AmbientLight(0xffffff, 0.65));
    const dl = new THREE.DirectionalLight(0xffffff, 0.85);
    dl.position.set(1,1,1);
    scene.add(dl);

    const moleculeGroup = new THREE.Group();
    scene.add(moleculeGroup);

    function createNode(position, color, size, name) {
        const geometry = new THREE.SphereGeometry(size, 24, 24);
        const material = new THREE.MeshPhongMaterial({ color, shininess: 90, specular: 0x333333 });
        const sphere = new THREE.Mesh(geometry, material);
        sphere.position.copy(position);
        sphere.userData = { name };
        moleculeGroup.add(sphere);
        return sphere;
    }

    function createLink(a, b, color) {
        const dir = new THREE.Vector3().subVectors(b.position, a.position);
        const mid = new THREE.Vector3().addVectors(a.position, b.position).multiplyScalar(0.5);
        const len = dir.length();

        const geo = new THREE.CylinderGeometry(0.08, 0.08, len, 24);
        const mat = new THREE.MeshPhongMaterial({ color, shininess: 40 });
        const cyl = new THREE.Mesh(geo, mat);
        cyl.position.copy(mid);
        cyl.lookAt(b.position);
        cyl.rotateX(Math.PI / 2);
        moleculeGroup.add(cyl);
        return cyl;
    }

    // Simplified ASA chain: repeating S / AN / A nodes (conceptual)
    const colors = {
        S: 0xef4444,     // red
        AN: 0x2563eb,    // blue
        A: 0x64748b      // gray
    };

    const chain = [];
    const pattern = ['S','AN','A'];
    const n = 12;
    const spacing = 0.55;
    const startX = -((n - 1) * spacing) / 2;

    for (let i = 0; i < n; i++) {
        const t = pattern[i % pattern.length];
        chain.push(createNode(new THREE.Vector3(startX + i*spacing, 0, 0), colors[t], 0.24, t));
    }
    for (let i = 0; i < n - 1; i++) createLink(chain[i], chain[i+1], 0x475569);

    moleculeGroup.rotation.y = 0.55;
    moleculeGroup.rotation.x = 0.18;

    function animate() {
        requestAnimationFrame(animate);
        moleculeGroup.rotation.y += 0.0042;
        moleculeGroup.rotation.x += 0.0013;
        renderer.render(scene, camera);
    }

    window.addEventListener('resize', () => {
        camera.aspect = container.clientWidth / container.clientHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(container.clientWidth, container.clientHeight);
    });

    window.addEventListener('chemThemeChange', () => {
        try{
            const bg = getComputedStyle(document.documentElement).getPropertyValue('--molecule-bg').trim() || '#f8fafc';
            scene.background = new THREE.Color(bg);
            renderer.render(scene, camera);
        }catch(e){}
    });

    animate();
}
</script>

<script>
(function(){
    const langBtn = document.getElementById('langToggle');
    const langLabel = document.getElementById('langLabel');
    const themeBtn = document.getElementById('themeToggle');

    function renderI18n(el, lang){
        const en = el.getAttribute('data-i18n-en') ?? '';
        const fa = el.getAttribute('data-i18n-fa') ?? '';
        if (el.tagName === 'TITLE'){ el.textContent = (lang === 'fa') ? fa : en; return; }
        el.textContent = (lang === 'fa') ? fa : en;
    }
    function applyLang(lang){
        document.documentElement.setAttribute('lang', lang);
        document.documentElement.setAttribute('dir', lang === 'fa' ? 'rtl' : 'ltr');
        if (langLabel) langLabel.textContent = (lang === 'fa') ? 'EN' : 'FA';
        document.querySelectorAll('[data-i18n-en][data-i18n-fa]').forEach(el => renderI18n(el, lang));
    }
    function getLang(){ return document.documentElement.getAttribute('lang') || 'en'; }

    function applyTheme(theme){
        document.documentElement.setAttribute('data-theme', theme);
        const icon = themeBtn?.querySelector('i');
        if (icon){
            icon.classList.remove('fa-moon','fa-sun');
            icon.classList.add(theme === 'dark' ? 'fa-sun' : 'fa-moon');
        }
        window.dispatchEvent(new CustomEvent('chemThemeChange', { detail: { theme } }));
    }
    function getTheme(){ return document.documentElement.getAttribute('data-theme') || 'light'; }

    window.ChemI18n = { applyLang, getLang, refresh: ()=>applyLang(getLang()) };

    const savedLang = localStorage.getItem('chem_lang');
    const autoLang = (navigator.language || '').toLowerCase().startsWith('fa') ? 'fa' : 'en';
    applyLang(savedLang || autoLang);

    langBtn?.addEventListener('click', ()=>{
        const next = getLang() === 'fa' ? 'en' : 'fa';
        localStorage.setItem('chem_lang', next);
        applyLang(next);
    });

    const savedTheme = localStorage.getItem('chem_theme');
    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    applyTheme(savedTheme || (prefersDark ? 'dark' : 'light'));

    themeBtn?.addEventListener('click', ()=>{
        const next = getTheme() === 'dark' ? 'light' : 'dark';
        localStorage.setItem('chem_theme', next);
        applyTheme(next);
    });
})();
</script>

</body>








</html>